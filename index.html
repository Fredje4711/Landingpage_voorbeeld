<!DOCTYPE html>
<html lang="nl">
<head>
    <!-- Tidio Live Chat Code -->
    <script src="//code.tidio.co/6v4y0x0f5e1z1o0b3m8szz9958k3iokz.js" async></script>
    <!-- Einde Tidio Live Chat Code -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diabetes Liga Midden Limburg</title>

    <!-- Modern dependencies -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

<style>
/* CSS van test_sidebar_only.html (basis = index(3).html) */
:root { --primary-color: #23A9E4; --primary-light: #4FBFF0; --primary-dark: #1B86B6; --text-color: #333333; --white-color: #ffffff; }
body { font-family: 'Helvetica Neue', Arial, sans-serif; margin: 0; padding: 0; background-color: #f8f9fa; min-height: 100vh; overflow-y: auto; }
.banner { background: linear-gradient(135deg, var(--primary-color), var(--primary-dark)); height: 200px; position: relative; overflow: hidden; }
.banner-content { position: relative; height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; color: white; text-align: center; padding: 3rem 2rem; }
.banner-title { font-size: 3.5rem; font-weight: 700; margin-bottom: 1rem; text-shadow: 2px 2px 4px rgba(0,0,0,0.2); margin-top: 1rem; }
.banner .lead { font-size: 1.1rem; }
.wrapper { display: grid; grid-template-columns: 300px 1fr; gap: 2rem; padding: 2rem; min-height: calc(100vh - 200px); overflow-y: auto; }
.sidebar { background: linear-gradient(160deg, var(--primary-color), var(--primary-dark)); padding: 2rem; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); position: sticky; top: 2rem; height: fit-content; }
.menu-list { list-style: none; padding: 0; margin: 0; }
.menu-item { margin: 0.5rem 0; }
.menu-link { display: flex; align-items: center; gap: 0.8rem; padding: 1rem; color: white; text-decoration: none; border-radius: 8px; transition: all 0.3s ease; background: rgba(255,255,255,0.1); }
.menu-link i { width: 20px; text-align: center; }
.menu-link:hover { background: rgba(255,255,255,0.2); transform: translateX(5px); color: white; }
.menu-link.active-link { font-weight: bold; background: rgba(255,255,255,0.25); }
.content { padding: 2rem; background: white; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); overflow-y: auto; min-height: 50vh; }
.gallery { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 1.5rem; margin-top: 1rem; }
.gallery-item { position: relative; overflow: hidden; border-radius: 10px; cursor: pointer; transition: transform 0.3s ease; }
.gallery-item:hover { transform: translateY(-5px); }
.gallery-item img { width: 100%; height: 200px; object-fit: cover; display: block; transition: transform 0.3s ease; }
.lightbox { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.95); z-index: 1000; justify-content: center; align-items: center; }
.lightbox-content { position: relative; width: 90%; height: 90%; display: flex; justify-content: center; align-items: center; }
.lightbox-image { max-width: 90%; max-height: 85vh; object-fit: contain; }
.lightbox-close { position: fixed; top: 80px; right: 20px; color: white; font-size: 40px; cursor: pointer; width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; background: rgba(255,255,255,0.2); border-radius: 50%; transition: all 0.3s ease; z-index: 1002; line-height: 1; }
.lightbox-close:hover { background: rgba(255,255,255,0.3); transform: scale(1.1); }
.lightbox-nav { position: fixed; top: 50%; transform: translateY(-50%); color: white; font-size: 30px; cursor: pointer; width: 50px; height: 50px; display: flex; align-items: center; justify-content: center; background: rgba(255,255,255,0.2); border-radius: 50%; transition: all 0.3s ease; z-index: 1002; }
.lightbox-nav:hover { background: rgba(255,255,255,0.3); transform: translateY(-50%) scale(1.1); }
.lightbox-prev { left: 20px; } .lightbox-next { right: 20px; }
.lightbox-counter { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); color: white; background: rgba(255,255,255,0.2); padding: 8px 15px; border-radius: 20px; font-size: 14px; z-index: 1002; }
.page-content { display: none; }
.page-content.active { display: block; animation: fadeIn 0.5s ease-in-out; }
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
.page-title { color: var(--primary-color); margin-bottom: 2rem; margin-top: 0; padding-bottom: 0.5rem; border-bottom: 2px solid var(--primary-light);}
.iframe-container { display: flex; justify-content: flex-start; } /* Voor JotForm */
.iframe-page-container { width: 100%; aspect-ratio: 16 / 11; overflow: hidden; border: 1px solid #eee; margin-bottom: 10px; position: relative; } /* Algemeen */
.iframe-page-container iframe { width: 100%; height: 100%; border: none; display: block; }
.jotform-iframe-wrapper { text-align: center; }
.jotform-iframe-container { display: inline-block; max-width: 100%; }
.jotform-iframe-container iframe { height: 600px; width: 375px; max-width: 100%; border: 5pt solid var(--primary-color); display: block; margin: auto; }
.device-toggle { position: fixed; top: 20px; right: 20px; z-index: 1001; background: var(--primary-color); color: white; border: none; padding: 10px 15px; border-radius: 20px; cursor: pointer; box-shadow: 0 2px 10px rgba(0,0,0,0.2); transition: all 0.3s ease; display: flex; align-items: center; gap: 8px; }
.device-toggle:hover { background: var(--primary-dark); transform: translateY(-2px); }
.device-toggle i { font-size: 1.2em; }
body.mobile-view { max-width: 480px; margin: 0 auto; position: relative; box-shadow: 0 0 20px rgba(0,0,0,0.2); min-height: 100vh; overflow-y: auto; border: 1px solid #ccc; }
body.mobile-view .wrapper { grid-template-columns: 1fr; height: auto; min-height: 0; padding: 1rem; overflow-y: visible; }
body.mobile-view .sidebar { position: sticky; top: 0; z-index: 100; margin-bottom: 1rem; }
body.mobile-view .content { min-height: auto; overflow-y: visible; }
body.mobile-view .gallery { grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); }
body.mobile-view .banner-title { font-size: 2rem; }
@media (max-width: 768px) { /* Responsive */ }
@media (max-width: 480px) { /* Responsive */ }
@media (hover: none) { /* Touch */ }
@media print { /* Print */ }
</style>
</head>
<body>
    <!-- Device Toggle Button -->
    <button class="device-toggle">
        <i class="fas fa-mobile-alt"></i>
        <span class="toggle-text">GSM weergave</span>
    </button>

    <!-- Banner -->
    <div class="banner"> <div class="banner-content"> <h1 class="banner-title">Diabetes Liga Midden Limburg</h1> <p class="lead">Samen sterk voor een betere toekomst</p> </div> </div>

    <!-- Main Content -->
    <div class="wrapper">
        <!-- Sidebar (AANGEPAST) -->
        <nav class="sidebar">
             <ul class="menu-list">
                 <li class="menu-item"> <a href="#home" class="menu-link" data-page="home"><i class="fas fa-home"></i> Home</a> </li>
                 <li class="menu-item"> <a href="#qa" class="menu-link" data-page="qa"><i class="fas fa-question-circle"></i> Diabetes Q&A</a> </li>
                 <li class="menu-item"> <a href="#quiz" class="menu-link" data-page="quiz"><i class="fas fa-graduation-cap"></i> Diabetes Quiz</a> </li>
                 <li class="menu-item"> <a href="#contact" class="menu-link" data-page="contact"><i class="fas fa-mobile-alt"></i> DLML App</a> </li>
                 <li class="menu-item"> <a href="#calculator" class="menu-link" data-page="calculator"><i class="fas fa-calculator"></i> Koolhydraten Calculator</a> </li>
                 <li class="menu-item"> <a href="#qrcode" class="menu-link" data-page="qrcode"><i class="fas fa-qrcode"></i> QR-Code generator</a> </li>
                 <li class="menu-item"> <a href="#photos" class="menu-link" data-page="photos"><i class="fas fa-images"></i> Foto's</a> </li>
            </ul>
        </nav>

        <!-- Content Area (ALLE SECTIES NU GEVULD) -->
        <main class="content">
            <!-- Home Page -->
            <div id="home" class="page-content active"> <h2 class="page-title">Welkom bij Diabetes Liga Midden Limburg</h2> <p>Wij zijn een organisatie die zich inzet voor mensen met diabetes in Midden-Limburg. Samen werken we aan bewustwording, ondersteuning en een betere kwaliteit van leven.</p> </div>

            <!-- Diabetes Q&A Page -->
             <div id="qa" class="page-content">
                <h2 class="page-title">Diabetes Q&A</h2>
                 <div class="iframe-page-container">
                     <iframe src="https://fredje4711.github.io/Q-A_Diabetes/" title="Diabetes Q&A" loading="lazy"></iframe>
                 </div>
                 <p style="margin-top: 10px; text-align: center;"><a href="https://fredje4711.github.io/Q-A_Diabetes/" target="_blank">Open Q&A in nieuw venster</a></p>
            </div>

            <!-- Diabetes Quiz Page -->
             <div id="quiz" class="page-content">
                <h2 class="page-title">Diabetes Quiz</h2>
                 <div class="iframe-page-container">
                     <iframe src="https://fredje4711.github.io/Diabetes_Quiz/" title="Diabetes Quiz" loading="lazy"></iframe>
                 </div>
                 <p style="margin-top: 10px; text-align: center;"><a href="https://fredje4711.github.io/Diabetes_Quiz/" target="_blank">Open Quiz in nieuw venster</a></p>
            </div>

            <!-- Koolhydraten Calculator Page -->
             <div id="calculator" class="page-content">
                <h2 class="page-title">Koolhydraten Calculator</h2>
                <div class="iframe-page-container">
                     <iframe src="https://fredje4711.github.io/KoolhydratenCalculatorApp/" title="Koolhydraten Calculator" loading="lazy"></iframe>
                </div>
                <p style="margin-top: 10px; text-align: center;"><a href="https://fredje4711.github.io/KoolhydratenCalculatorApp/" target="_blank">Open Calculator in nieuw venster</a></p>
            </div>

             <!-- QR-Code Generator Page -->
             <div id="qrcode" class="page-content">
                <h2 class="page-title">QR-Code generator</h2>
                 <div class="iframe-page-container">
                     <iframe src="https://fredje4711.github.io/qr-code-generator/" title="QR-Code Generator" loading="lazy"></iframe>
                </div>
                 <p style="margin-top: 10px; text-align: center;"><a href="https://fredje4711.github.io/qr-code-generator/" target="_blank">Open Generator in nieuw venster</a></p>
            </div>

            <!-- Photos Page -->
            <div id="photos" class="page-content"> <h2 class="page-title">Photo Gallery</h2> <div class="gallery" id="gallery"> <!-- JS vult dit --> </div> </div>
            <!-- Contact Page (DLML App) -->
            <div id="contact" class="page-content"> <h2 class="page-title">DLML Activiteiten App</h2> <div class="iframe-container"> <iframe id="JotFormIFrame-243115564264353" title="DLML" allow="geolocation; microphone; camera" src="https://eu.jotform.com/app/243115564264353?appEmbedded=1" style="height:600px; width:375px; border: 5pt solid #23A9E4;" loading="lazy"></iframe> </div> </div>
        </main>
         <!-- Einde .wrapper div -->
    </div>

    <!-- Lightbox (HTML Structuur - Zorg dat classes correct zijn!) -->
    <div class="lightbox">
         <div class="lightbox-content">
             <img src="" alt="" class="lightbox-image"> <!-- Class is belangrijk! -->
         </div>
         <div class="lightbox-close">×</div> <!-- Class is belangrijk! -->
         <div class="lightbox-nav lightbox-prev">❮</div> <!-- Classes zijn belangrijk! -->
         <div class="lightbox-nav lightbox-next">❯</div> <!-- Classes zijn belangrijk! -->
         <div class="lightbox-counter">1 / 12</div> <!-- Class is belangrijk! -->
     </div>


     <!-- Footer -->
     <footer style="text-align: center; margin-top: 30px; padding: 15px; border-top: 1px solid #eee; color: #666; font-size: 0.9em;">
        <p style="margin-bottom: 5px;">Auteur: Diabetes Liga Midden-Limburg</p>
        <p style="margin-top: 0;">
            <a href="https://www.dlml.be" target="_blank" style="color: #23a9e4; text-decoration: none; font-weight: bold; display: inline-flex; align-items: center;">
                <span style="color: #23a9e4; margin-right: 4px; vertical-align: middle;">🌐</span>
                www.dlml.be
            </a>
        </p>
    </footer>

    <script>
        // Globale variabelen voor lightbox
        let currentLightboxIndex = 0;
        const lightboxImages = [ // Definieer images hier, globaal toegankelijk
            'https://picsum.photos/800/600?random=1', 'https://picsum.photos/800/600?random=2', 'https://picsum.photos/800/600?random=3',
            'https://picsum.photos/800/600?random=4', 'https://picsum.photos/800/600?random=5', 'https://picsum.photos/800/600?random=6',
            'https://picsum.photos/800/600?random=7', 'https://picsum.photos/800/600?random=8', 'https://picsum.photos/800/600?random=9',
            'https://picsum.photos/800/600?random=10', 'https://picsum.photos/800/600?random=11', 'https://picsum.photos/800/600?random=12'
        ];

        // --- Globale Functie om Lightbox Afbeelding te Tonen ---
        function showLightboxImage(index) {
            // Zoek elementen BINNEN DEZE FUNCTIE, direct in document
            const lightbox = document.querySelector('.lightbox');
            const lightboxImage = document.querySelector('.lightbox-image'); // Direct zoeken
            const counter = document.querySelector('.lightbox-counter'); // Direct zoeken

            console.log(`Attempting to show image with index: ${index}`);
            // Check of elementen nu WEL gevonden worden
            if (!lightbox || !lightboxImage || !counter) {
                 console.error("showLightboxImage: Lightbox elements not found in document!");
                 return;
            }
            if (index < 0 || index >= lightboxImages.length) { console.warn("showLightboxImage: index out of bounds", index); return; }
            currentLightboxIndex = index;
            try { lightboxImage.src = lightboxImages[index]; counter.textContent = `${index + 1} / ${lightboxImages.length}`; console.log(`Lightbox updated: Image ${index + 1}`); }
            catch (e) { console.error("Error updating lightbox image/counter:", e); }
        }
        // --- Einde Globale Functie ---

        document.addEventListener('DOMContentLoaded', () => {
            console.log("DOM Loaded, final attempt with direct querySelector in listeners.");
            // --- Definieer variabelen voor elementen ---
            const gallery = document.getElementById('gallery');
            const lightbox = document.querySelector('.lightbox');
            const menuLinks = document.querySelectorAll('.menu-link');
            const pages = document.querySelectorAll('.page-content');
            const deviceToggle = document.querySelector('.device-toggle');

            // --- Initialiseer Galerij ---
            if (gallery) {
                setupGallery(gallery, lightboxImages);
                console.log("Gallery setup called.");
            } else { console.log("Gallery element not found."); }

            // --- Initialiseer Lightbox (listeners) ---
            if (lightbox) {
                setupLightboxListeners(lightbox, lightboxImages); // Aangepaste naam
                console.log("Lightbox setup called.");
            } else { console.log("Lightbox element not found."); }

            // --- Initialiseer Paginanavigatie ---
            if (menuLinks.length > 0 && pages.length > 0) {
                setupPageNavigation(menuLinks, pages);
                console.log("Nav setup called.");
            } else { console.error("Menu or page elements missing!"); }

            // --- Initialiseer Device Toggle ---
            if (deviceToggle) {
                setupDeviceToggle(deviceToggle);
                console.log("Toggle setup called.");
            } else { console.error("Toggle button missing!"); }

            console.log("Initial setup calls complete.");
        }); // Einde DOMContentLoaded

        // --- Galerij Setup Functie ---
        function setupGallery(galleryElement, imagesArray) {
            if (!galleryElement) return;
            console.log("Setting up gallery content...");
            galleryElement.innerHTML = '';
            imagesArray.forEach((image, index) => {
                const item = document.createElement('div'); item.className = 'gallery-item';
                item.innerHTML = `<img src="${image}" alt="Gallery image ${index + 1}" loading="lazy">`; item.dataset.index = index; galleryElement.appendChild(item);
            });
            if (!galleryElement.dataset.listenerAttached) {
                 galleryElement.addEventListener('click', handleGalleryClick);
                 galleryElement.dataset.listenerAttached = 'true';
                 console.log("Gallery content created and listener added.");
             }
        }

        // --- Lightbox Setup Functie (alleen listeners - met direct querySelector) ---
        function setupLightboxListeners(lightboxElement, imagesArray) { // Naam ongewijzigd, logica aangepast
            console.log("Setting up lightbox listeners using direct document query...");
            if (!lightboxElement) { console.error("setupLightboxListeners: Lightbox element is null."); return; }

            // --- Zoek elementen direct in het document ---
            const close = document.querySelector('.lightbox-close');
            const prev = document.querySelector('.lightbox-prev');
            const next = document.querySelector('.lightbox-next');
            // --- Einde Zoek ---

            // BELANGRIJKE CHECK: Bestaan de knoppen?
            if (!close || !prev || !next ) {
                 console.error("setupLightboxListeners: Control elements (close, prev, next) were NOT found in document! ABORTING listener setup.");
                 console.log({ close, prev, next }); // Log wat null is
                 return;
             }

             // Voorkom dubbele listeners
             if (lightboxElement.dataset.listenersAttached) {
                 console.log("Lightbox listeners already attached.");
                 return;
             }

            // --- Voeg listeners toe ---
            console.log("All required lightbox control elements found. Adding listeners...");
            close.addEventListener('click', () => { lightboxElement.style.display = 'none'; document.body.style.overflow = ''; console.log("Lightbox closed via button."); });
            lightboxElement.addEventListener('click', (e) => { if (e.target === lightboxElement) close.click(); console.log("Lightbox closed via background click."); });
            next.addEventListener('click', (e) => { e.stopPropagation(); if(typeof window.showLightboxImage === 'function') window.showLightboxImage((currentLightboxIndex + 1) % imagesArray.length); });
            prev.addEventListener('click', (e) => { e.stopPropagation(); if(typeof window.showLightboxImage === 'function') window.showLightboxImage((currentLightboxIndex - 1 + imagesArray.length) % imagesArray.length); });
            document.addEventListener('keydown', (e) => {
                 if (lightboxElement.style.display === 'flex') {
                     if (e.key === 'Escape') close.click();
                     if (e.key === 'ArrowRight') next.click();
                     if (e.key === 'ArrowLeft') prev.click();
                 }
             });
             lightboxElement.dataset.listenersAttached = 'true';
            console.log("Lightbox listeners added successfully.");
         }


         // --- Galerij Klik Handler (ongewijzigd) ---
         function handleGalleryClick(e) {
             console.log("handleGalleryClick called.");
             const lightbox = document.querySelector('.lightbox');
             const item = e.target.closest('.gallery-item');
             if (item && lightbox) {
                const index = parseInt(item.dataset.index);
                 console.log("Gallery item found, raw data-index:", item.dataset.index);
                 if (!isNaN(index)) {
                     console.log("Parsed index:", index);
                     if (typeof window.showLightboxImage === 'function') {
                         console.log("Calling window.showLightboxImage...");
                         window.showLightboxImage(index);
                         console.log("Setting lightbox display to flex...");
                         lightbox.style.display = 'flex';
                         console.log("Setting body overflow to hidden...");
                         document.body.style.overflow = 'hidden';
                         console.log("Lightbox should be open now.");
                     } else { console.error("window.showLightboxImage function IS NOT DEFINED when needed!"); }
                 } else { console.error("Could not parse index from gallery item."); }
            } else { console.log("Click was not on a gallery item or lightbox element not found."); }
        }
        // --- Einde Galerij/Lightbox ---

        // --- Paginanavigatie Functies ---
         function setupPageNavigation(menuLinks, pages) { function showPage(pageId) { console.log("Showing page:", pageId); pages.forEach(page => { page.classList.remove('active'); }); const activePage = document.getElementById(pageId); if (activePage) { activePage.classList.add('active'); window.scrollTo(0, 0); } else { const homePage = document.getElementById('home'); if(homePage) homePage.classList.add('active'); console.warn(`Page ${pageId} not found, showing home.`); window.scrollTo(0, 0); } menuLinks.forEach(link => { link.classList.toggle('active-link', link.getAttribute('data-page') === pageId); }); } menuLinks.forEach(link => { link.addEventListener('click', (e) => { e.preventDefault(); const pageId = link.getAttribute('data-page'); if (window.location.hash !== `#${pageId}`) { window.location.hash = pageId; } else { showPage(pageId); } }); }); function handleHashChange() { const pageId = window.location.hash.substring(1) || 'home'; showPage(pageId); } window.addEventListener('hashchange', handleHashChange); handleHashChange(); console.log("Page navigation listeners added.");}

        // --- Device Toggle Functie ---
         function setupDeviceToggle(deviceToggleButton) { const toggleText = deviceToggleButton.querySelector('.toggle-text'); const toggleIcon = deviceToggleButton.querySelector('i'); if (!toggleText || !toggleIcon) { console.error("Toggle text/icon not found"); return; } if (deviceToggleButton.dataset.listenerAttached) return; document.body.classList.remove('mobile-view'); toggleText.textContent = 'GSM weergave'; toggleIcon.className = 'fas fa-mobile-alt'; deviceToggleButton.addEventListener('click', () => { console.log("Toggle clicked!"); document.body.classList.toggle('mobile-view'); if (document.body.classList.contains('mobile-view')) { toggleText.textContent = 'Desktop View'; toggleIcon.className = 'fas fa-desktop'; } else { toggleText.textContent = 'GSM weergave'; toggleIcon.className = 'fas fa-mobile-alt'; } }); deviceToggleButton.dataset.listenerAttached = 'true'; console.log("Device toggle listener added."); }

    </script>
 </body>
</html>